---
import siteConfig from "../site.config";
const currentYear = new Date().getFullYear();
---

<footer class="font-sans text-sm sm:text-base mx-auto mt-12 w-full max-w-3xl px-4">
  <div class="border-t border-gray-500/40 pt-6"></div>

  <!-- Footer nav -->
  <nav
    aria-label="Footer navigation"
    class="footer-primary flex flex-wrap items-center justify-center gap-x-4 gap-y-3 text-base"
  >
    {siteConfig.footerNavLinks?.map((link) => (
      <a href={link.href} title={link.text} class="hover:underline">
        {link.text}
      </a>
    ))}
  </nav>

  <!-- Copyright & Social -->
  <div
    class="footer-secondary mt-4 flex flex-col items-center justify-center gap-4 sm:mt-6 sm:flex-row sm:justify-between"
  >
    <div class="text-center sm:text-left">
      <span>&copy; {currentYear}</span> {siteConfig.title}
    </div>

    <nav
      aria-label="Social links"
      class="flex items-center justify-center gap-x-4"
    >
      {siteConfig.socialLinks?.map((link) => {
        // Ambil nama file svg berdasar key di siteConfig
        const iconName = link.icon;
        const iconPath = `/src/icons/${iconName}.svg`;
        return (
          <a
            href={link.href}
            title={link.text}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex"
          >
            <img
              src={iconPath}
              alt={link.text}
              class="h-5 w-5 hover:opacity-80 transition-opacity"
              loading="lazy"
              decoding="async"
            />
          </a>
        );
      })}
    </nav>
  </div>
</footer>
