@import url("fonts.css");
@import "tailwindcss";

/* =========================================================
   0) Theme tokens (colors, fonts) + dark variant (TW v4)
   ========================================================= */
:root{
  /* brand neutrals */
  --ink: #0c0c0c;          /* teks utama light */
  --paper: #ffffff;        /* background light */

  --ink-inv: #ffffff;      /* teks utama dark */
  --paper-inv: #0c0c0c;    /* background dark */

  /* aksen (opsional) */
  --accent: #0c0c0c;
  --accent-weak: #dcdcdc;

  /* iOS safe-area */
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
}

/* Tailwind v4 custom variant + theme tokens */
@custom-variant dark (&:where(.dark, .dark *));
@theme{
  --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;

  --color-ink: var(--ink);
  --color-paper: var(--paper);
  --color-ink-inv: var(--ink-inv);
  --color-paper-inv: var(--paper-inv);

  --color-accent: var(--accent);
  --color-accent-weak: var(--accent-weak);
}

/* =========================================================
   1) Global guards (anti overflow, mobile safe area)
   ========================================================= */
*,
*::before,
*::after{ box-sizing:border-box; }

html,body{
  width:100%;
  max-width:100%;
  min-height:100%;
  margin:0;
  padding:0;

  /* penting: biar tetap bisa scroll */
  overflow-x:hidden;
  overflow-y:auto;
  -webkit-overflow-scrolling: touch;
}

/* Ancestor overflow visible agar sticky tidak patah */
:where(body, main, .page-content, .inner-container, .layout, .page, .container){
  overflow: visible !important;
}

/* =========================================================
   2) Typography base (SKALA BARU)
   ========================================================= */
body{
  font-family: var(--font-sans);
  font-size: 16px;                /* BODY: 16px */
  line-height: 1.65;
  color: var(--color-ink);
  background: var(--color-paper);
  padding: max(0px,var(--sat)) max(0px,var(--sar)) max(0px,var(--sab)) max(0px,var(--sal));
}

small{ font-size: 14px; }         /* SMALL / secondary: 14px */
.meta{ font-size: 13px; }         /* CAPTION / meta: 13px */

h1{
  font-size: 28px;                /* H1 */
  line-height: 1.3;
  margin: 1rem 0 0.75rem;
  font-weight: 700;
}
h2{
  font-size: 20px;                /* H2 */
  line-height: 1.35;
  margin: 0.75rem 0 0.5rem;
  font-weight: 700;
}
h3{
  font-size: 18px;                /* opsional supaya konsisten */
  line-height: 1.4;
  margin: 0.75rem 0 0.5rem;
  font-weight: 600;
}
p { margin-bottom: 1rem; }

/* Dark mode */
html.dark body{
  background: var(--color-paper-inv);
  color: var(--color-ink-inv);
}

/* Media defaults */
img,video,canvas,svg{ display:block; max-width:100%; height:auto; }
img{ @apply rounded-xl; }

/* Kartu/gambar pratinjau blog */
.card-image,
.post-card img{
  width:100%;
  height:auto;
  object-fit:cover;
  border-radius:1rem;
}

/* =========================================================
   3) Header sticky (selalu terlihat)
   ========================================================= */
header{
  position: sticky;
  top: calc(var(--sat) + 8px);
  z-index: 50;
  margin-top: calc(var(--sat) + 8px);
  @apply mr-auto ml-auto flex w-full max-w-3xl flex-col items-center justify-center px-0 py-0;
}

header > nav{
  @apply flex flex-row items-center justify-between gap-2 rounded-4xl px-5 py-2 text-sm sm:gap-8 sm:py-3 sm:text-base backdrop-blur-3xl;
  background: color-mix(in oklab, var(--color-paper) 75%, transparent);
  box-shadow:
    inset 0 0 0.5px 1px hsla(0,0%,0%,0.05),
    0 0 0 1px hsla(0,0%,0%,0.05),
    0 .3px .4px hsla(0,0%,0%,0.02),
    0 .9px 1.5px hsla(0,0%,0%,0.045),
    0 3.5px 6px hsla(0,0%,0%,0.09);
}
html.dark header > nav{
  background: color-mix(in oklab, var(--color-paper-inv) 70%, transparent);
}

/* Mengurangi “loncat” saat keyboard mobile muncul */
header{ contain: layout style; }

/* =========================================================
   4) Main & Footer
   ========================================================= */
main{ @apply w-full min-h-screen; }

footer{
  padding-bottom: calc(max(24px, var(--sab)) + 12px);
  @apply mx-auto mt-12 w-full max-w-3xl flex flex-col flex-wrap items-center justify-center gap-4 px-4;
}

/* =========================================================
   5) Links & buttons
   ========================================================= */
a.button-link:not(:disabled),
button.button-link:not(:disabled){
  @apply inline-flex cursor-pointer items-center justify-center rounded-full border px-6 py-2 leading-tight transition sm:px-8;
  border-color: color-mix(in oklab, var(--color-ink) 30%, transparent);
  color: var(--color-ink);
}
a.button-link:not(:disabled):hover,
button.button-link:not(:disabled):hover{
  border-color: var(--color-ink);
}

a.button-link.space-btn-filled:not(:disabled),
button.button-link.space-btn-filled:not(:disabled){
  background: var(--color-ink);
  color: var(--color-paper);
}
a.button-link.space-btn-filled:not(:disabled):hover,
button.button-link.space-btn-filled:not(:disabled):hover{
  background: color-mix(in oklab, var(--color-ink) 85%, #444 15%);
}

a.button-link.space-btn-outlined:not(:disabled),
button.button-link.space-btn-outlined:not(:disabled){
  background: transparent;
  border: 1px solid var(--color-ink);
  color: var(--color-ink);
}
a.button-link.space-btn-outlined:not(:disabled):hover,
button.button-link.space-btn-outlined:not(:disabled):hover{
  background: color-mix(in oklab, var(--color-ink) 6%, transparent);
}

/* tautan biasa */
html.dark a:not(.button-link){ color: var(--color-ink-inv); }
html:not(.dark) a:not(.button-link){ color: var(--color-ink); }
:where(html):not(.dark) a:not(.button-link):hover,
html.dark a:not(.button-link):hover{ text-decoration: underline; }

/* =========================================================
   6) Forms
   ========================================================= */
input[type="email"],
input[type="text"],
input[type="search"]{
  @apply w-full rounded-3xl px-5 py-3 outline-none;
  border: 1px solid color-mix(in oklab, var(--color-ink) 25%, transparent);
  background: color-mix(in oklab, var(--color-paper) 90%, transparent);
  color: inherit;
}
input[type="email"]:focus,
input[type="text"]:focus,
input[type="search"]:focus{
  border-color: var(--color-ink);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-ink) 15%, transparent);
}

/* =========================================================
   7) Page content helpers
   ========================================================= */
.page-content{ @apply my-12 w-full px-4 text-center; }
@media (orientation: portrait){ .page-content{ text-align:left; } }
@media (max-width:315px){ section{ gap:3rem; } }

/* Konten artikel (markdown) aman di mobile */
.prose img{ height:auto !important; max-width:100% !important; border-radius:0.75rem; }
.prose table{ display:block; width:100%; overflow:auto; }

/* =========================================================
   8) Small utilities
   ========================================================= */
@keyframes cursor-blink{ 0%{ opacity:0; } }
.blinking{ animation:cursor-blink 1.2s steps(2) infinite; }
