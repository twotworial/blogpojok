@import url("animate.css");
@import url("fonts.css");
@import "tailwindcss";

/* 0. color variables & fonts */
/* 1. html elements */
/* 2. utilities */

/* 0. color variables & fonts */
:root {
  --space-red: #90393a;
  --space-yellow: #ffff85;
  --space-sand: #e2d1c3;
  --space-stone: #434343;
}

/* Dark mode toggle (Tailwind v4) */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-sans: "Kanit", "sans-serif";
  --color-space-red: var(--space-red);
  --color-space-yellow: var(--space-yellow);
  --color-space-sand: var(--space-sand);
  --color-space-stone: var(--space-stone);
  --color-whitesmoke: whitesmoke;
}

/* ===== 1) Global guards biar mobile full & anti overflow ===== */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  width: 100%;
  max-width: 100%;
  margin: 0;
  padding: 0;
  min-height: 100%;
  overscroll-behavior: none;
  overflow-x: hidden;              /* cegah scrolling horizontal di iOS/Android */
  @apply text-base;
}

/* Safe-area untuk iOS notch */
:root{
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
}
body{
  padding: max(0px, var(--sat)) max(0px, var(--sar)) max(0px, var(--sab)) max(0px, var(--sal));
}

/* Background ditempel di body (full-bleed) */
html.dark body {
  background-image: linear-gradient(to bottom, var(--color-space-stone) 0%, black 100%);
  @apply bg-black bg-cover bg-no-repeat text-whitesmoke;
}
html.light body {
  background-image: linear-gradient(180deg, #fdfcfb 0%, #e2d1c3 100%);
  @apply bg-space-sand bg-cover bg-no-repeat text-black;
}

/* Media yang sering bikin overflow */
img, video, canvas, svg { max-width: 100%; height: auto; display: block; }

/* ===== 2) Semantic elements ===== */
header {
  @apply sticky top-4 z-20 mr-auto ml-auto flex w-full max-w-3xl flex-col items-center justify-center px-0 py-0 text-base;
}
header > nav {
  @apply flex flex-row items-center justify-between gap-2 rounded-4xl px-5 py-2 text-xs backdrop-blur-3xl sm:gap-8 sm:py-3 sm:text-base;
  box-shadow:
    inset 0 0 0.5px 1px hsla(0, 0%, 100%, 0.075),
    0 0 0 1px hsla(0, 0%, 0%, 0.05),
    0 0.3px 0.4px hsla(0, 0%, 0%, 0.02),
    0 0.9px 1.5px hsla(0, 0%, 0%, 0.045),
    0 3.5px 6px hsla(0, 0%, 0%, 0.09);
}

/* Main dibiarin full; pembatasan max-width ada di inner-container (Layout.astro) */
main { @apply w-full min-h-screen; }

footer { @apply mx-auto mt-12 flex w-full max-w-3xl flex-col flex-wrap items-center justify-center gap-4; }

h1 { @apply py-4 text-2xl sm:py-6 sm:text-6xl; }
h2 { @apply py-2 text-xl sm:py-4 sm:text-3xl; }
p  { @apply mb-6; }
img { @apply rounded-xl; }

/* Links */
a.button-link:not(:disabled),
button.button-link:not(:disabled) {
  @apply inline-flex cursor-pointer items-center justify-center rounded-full border px-6 py-2 leading-tight transition hover:border-space-red hover:text-space-red sm:px-8 hover:dark:border-space-yellow hover:dark:text-space-yellow;
}
a.button-link.space-btn-filled:not(:disabled),
button.button-link.space-btn-filled:not(:disabled) {
  @apply bg-black text-whitesmoke hover:border-space-red hover:bg-space-red dark:bg-whitesmoke dark:text-black dark:hover:border-space-yellow dark:hover:bg-space-yellow;
}
a.button-link.space-btn-outlined:not(:disabled),
button.button-link.space-btn-outlined:not(:disabled) {
  @apply border border-black bg-transparent text-black hover:border-space-red hover:text-space-red dark:border-whitesmoke dark:bg-transparent dark:text-whitesmoke dark:hover:border-space-yellow dark:hover:text-space-yellow;
}

html.dark a:not(.button-link) { @apply text-whitesmoke; }
html.light a:not(.button-link) { @apply text-black; }
html.light a:not(.button-link):hover { @apply text-space-red; }
html.dark a:not(.button-link):hover { @apply text-space-yellow; }

/* Page content */
.page-content { @apply my-12 w-full px-4 text-center; }
@media (orientation: portrait) { .page-content { text-align: left; } }
@media (max-width: 315px) { section { gap: 3rem; } }

/* Cursor */
@keyframes cursor-blink { 0% { opacity: 0; } }
.blinking { animation: cursor-blink 1.2s steps(2) infinite; }
